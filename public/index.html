<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Existing meta tags remain the same -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="top-bar">
    <div class="top-bar-content">
      <div class="logo">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
        </svg>
        TempMailr
      </div>
      <div class="buttons">
        <button class="btn btn-secondary" onclick="window.location.href='doc.html'">Documentation</button>
        <button class="btn btn-primary" onclick="window.location.href='premium.html'">‚ú® Go Premium</button>
      </div>
    </div>
  </div>

  <main>
    <section class="site-description">
      <div class="container">
        <h1>Welcome to TempMailr</h1>
        <p>TempMailr provides you with a free, disposable email address you can use to protect your privacy, avoid spam, and stay anonymous online. It‚Äôs fast, secure, and requires no signup. Start using it below!</p>
      </div>
    </section>

    <article class="main-content">
      <div class="email-card">
        <div class="email-header">
          <h2>Temporary Email Address</h2>
          <div class="email-display">
            <div class="email-address" id="email">generating@temporary.in</div>
            <button class="btn btn-primary" onclick="copyEmail()">üìã Copy Address</button>
            <button class="btn btn-secondary refresh-button" onclick="generateEmail()">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                <path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"/>
              </svg>
            </button>
          </div>
        </div>
      </div>

      <div class="inbox-container">
        <div class="inbox-panel">
          <div class="inbox-header">
            <h3 class="inbox-title">Inbox</h3>
            <div class="btn-group">
              <button class="btn btn-secondary" id="autoRefreshBtn" onclick="toggleAutoRefresh()">‚è≥ Auto-Refresh: On</button>
              <button class="btn btn-secondary" onclick="manualRefresh()">üîÑ Refresh Now</button>
            </div>
          </div>
          <ul class="email-list" id="inbox"></ul>
          <div class="empty-state" style="display: none;">
            <div class="empty-state-icon">üì≠</div>
            <h4>No messages yet</h4>
            <p>Your email is live and ready to receive messages. Share it with any website or app to test email functionality.</p>
          </div>
        </div>
      </div>
    </article>

    <div class="ad-container">
      <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3785436230198446" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins>
    </div>

    <div class="ad-container">
      <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-3785436230198446" data-ad-slot="9876543210"></ins>
    </div>

    <aside class="sidebar-ad">
      <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3785436230198446" data-ad-slot="1122334455" data-ad-format="rectangle" data-full-width-responsive="true"></ins>
    </aside>
  </main>

  <section class="about-tempmailr blog-style container">
    <h2 class="blog-title">The Rise of Temporary Email in 2025</h2>
    <p class="blog-intro">
      With growing concerns over online privacy and data security, temporary email services like <strong>TempMailr</strong> have become essential tools for internet users worldwide. From casual browsing to app testing, here's why more people are switching to disposable inboxes.
    </p>
  
    <article class="blog-article">
      <h3>1. Protecting Your Privacy in a Digital World</h3>
      <p>
        Every time you sign up for a new app, subscribe to a newsletter, or register for a forum, your personal email is at risk of being sold, spammed, or even hacked. TempMailr helps you shield your real inbox by offering a disposable email address that self-destructs after use.
      </p>
    </article>
  
    <article class="blog-article">
      <h3>2. No Signups. No Strings Attached.</h3>
      <p>
        Unlike most services, TempMailr doesn't ask for your real email, name, or phone number. It‚Äôs free, instant, and works across all platforms. No passwords to remember. Just generate, copy, and use.
      </p>
    </article>
  
    <article class="blog-article">
      <h3>3. Developers Love It Too</h3>
      <p>
        QA engineers and developers often use TempMailr to test signup flows, email notifications, and validation systems without clogging their real inbox. The auto-refreshing inbox and token-based access make it ideal for testing automation scripts.
      </p>
    </article>
  
    <article class="blog-article">
      <h3>4. Avoiding Spam and Unwanted Promotions</h3>
      <p>
        Tired of your inbox being flooded with offers, discount emails, and unwanted follow-ups? Use a TempMailr address for short-term logins and one-time downloads ‚Äî and never see spam again.
      </p>
    </article>
  
    <p class="blog-conclusion">
      In 2025, the smarter way to browse, sign up, and test online is by going temporary. Try TempMailr today ‚Äî your privacy deserves it.
    </p>
  </section>
  
  

  <footer class="site-footer">
    <div class="footer-content">
      <div class="footer-links">
        <a href="/privacy.html">Privacy Policy</a>
        <a href="/terms.html">Terms of Service</a>
        <a href="/about.html">About Us</a>
        <a href="/contact.html">Contact</a>
      </div>
      <div class="footer-info">
        <p>¬© <span id="current-year"></span> TempMailr. All rights reserved.</p>
        <div class="footer-social">
          <a href="#" aria-label="Twitter">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M22.46 6.012a8.58 8.58 0 0 1-2.466.676 4.305 4.305 0 0 0 1.886-2.374 8.591 8.591 0 0 1-2.725 1.041 4.292 4.292 0 0 0-7.313 3.914 12.184 12.184 0 0 1-8.846-4.483 4.286 4.286 0 0 0 1.328 5.731 4.27 4.27 0 0 1-1.942-.537v.054a4.295 4.295 0 0 0 3.442 4.209 4.3 4.3 0 0 1-1.938.073 4.296 4.296 0 0 0 4.01 2.981 8.612 8.612 0 0 1-5.33 1.838c-.347 0-.688-.02-1.024-.06a12.148 12.148 0 0 0 6.578 1.929c7.898 0 12.215-6.543 12.215-12.214 0-.186-.004-.371-.012-.555a8.735 8.735 0 0 0 2.141-2.23z"/>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </footer>


      <script>
        let autoRefreshEnabled = true;
        let autoRefreshInterval = null;
        let currentToken = null;
      
        // Runs on page load
        document.addEventListener('DOMContentLoaded', async () => {
          document.getElementById('current-year').textContent = new Date().getFullYear();
          await checkExistingSession();
          startAutoRefresh();
          try {
            (adsbygoogle = window.adsbygoogle || []).push({});
          } catch (e) {}
        });
      
        async function checkExistingSession() {
          const savedEmail = localStorage.getItem('tempEmail');
          const savedPassword = localStorage.getItem('tempPassword');
          if (savedEmail && savedPassword && savedEmail !== 'generating@temporary.in') {
            document.getElementById('email').textContent = savedEmail;
            await loginAndFetchEmails(savedEmail, savedPassword);
          }
        }
      
        async function generateEmail() {
          const emailDisplay = document.getElementById('email');
          const refreshBtn = document.querySelector('.refresh-button');
      
          try {
            emailDisplay.classList.add('loading');
            refreshBtn.disabled = true;
      
            const res = await fetch('/create-email');
            if (!res.ok) throw new Error('Failed to create email');
            const { email, password } = await res.json();
      
            emailDisplay.textContent = email;
            localStorage.setItem('tempEmail', email);
            localStorage.setItem('tempPassword', password);
      
            await loginAndFetchEmails(email, password);
            refreshAds();
          } catch (err) {
            showError(err.message);
          } finally {
            emailDisplay.classList.remove('loading');
            refreshBtn.disabled = false;
          }
        }
      
        async function loginAndFetchEmails(email, password) {
          try {
            const loginRes = await fetch('/token', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ address: email, password })
            });
      
            if (!loginRes.ok) throw new Error('Login failed');
            const { token } = await loginRes.json();
            currentToken = token;
      
            await fetchEmails();
          } catch (error) {
            showError(error.message);
          }
        }
      
        async function fetchEmails() {
          try {
            if (!currentToken) return;
            const res = await fetch('/get-emails', {
              headers: { Authorization: `Bearer ${currentToken}` }
            });
      
            if (!res.ok) throw new Error('Failed to fetch emails');
            const emails = await res.json();
            renderEmails(emails);
          } catch (error) {
            showError(error.message);
          }
        }
      
        function renderEmails(emails) {
          const inbox = document.getElementById('inbox');
          const emptyState = document.querySelector('.empty-state');
      
          inbox.innerHTML = '';
      
          if (emails.length > 0) {
            emails.forEach(email => {
              const li = document.createElement('li');
              li.className = `email-item ${email.seen ? 'read' : 'unread'}`;
              li.innerHTML = `
                <div class="email-subject">${email.subject || 'No Subject'}</div>
                <div class="email-preview">${email.intro || 'No preview available'}</div>
                <div class="email-meta">From: ${email.from?.address || 'Unknown sender'}</div>
              `;
              li.onclick = () => showEmailDetail(email.id);
              inbox.appendChild(li);
            });
            emptyState.style.display = 'none';
          } else {
            emptyState.style.display = 'flex';
          }
        }
      
        async function showEmailDetail(messageId) {
          try {
            const res = await fetch(`/get-email/${messageId}`, {
              headers: { Authorization: `Bearer ${currentToken}` }
            });
      
            const emailData = await res.json();
      
            const modal = document.createElement('div');
            modal.className = 'email-modal';
            modal.innerHTML = `
              <div class="modal-content">
                <h3>${emailData.subject}</h3>
                <div class="modal-header">
                  <div>From: ${emailData.from?.address}</div>
                  <div>Date: ${new Date(emailData.createdAt).toLocaleString()}</div>
                </div>
                <div class="modal-body">${emailData.text || emailData.html || 'No content'}</div>
                <button onclick="this.parentElement.parentElement.remove()">Close</button>
              </div>
            `;
            document.body.appendChild(modal);
          } catch (error) {
            showError('Failed to load email details');
          }
        }
      
        function startAutoRefresh() {
          stopAutoRefresh();
          autoRefreshInterval = setInterval(fetchEmails, 10000);
          document.getElementById('autoRefreshBtn').textContent = '‚è≥ Auto-Refresh: On';
          autoRefreshEnabled = true;
        }
      
        function stopAutoRefresh() {
          clearInterval(autoRefreshInterval);
          autoRefreshEnabled = false;
          document.getElementById('autoRefreshBtn').textContent = '‚è≥ Auto-Refresh: Off';
        }
      
        function toggleAutoRefresh() {
          if (autoRefreshEnabled) {
            stopAutoRefresh();
          } else {
            startAutoRefresh();
            fetchEmails(); // immediate fetch
          }
        }
      
        function refreshAds() {
          try {
            if (typeof adsbygoogle !== 'undefined') {
              adsbygoogle = window.adsbygoogle || [];
              adsbygoogle.forEach(ads => ads.request());
            }
          } catch (e) {}
        }
      
        function showError(message) {
          const errorDiv = document.createElement('div');
          errorDiv.className = 'error-toast';
          errorDiv.textContent = message;
          document.body.appendChild(errorDiv);
          setTimeout(() => errorDiv.remove(), 3000);
        }
      
        function copyEmail() {
          const email = document.getElementById('email').textContent;
          navigator.clipboard.writeText(email)
            .then(() => {
              const btn = document.querySelector('[onclick="copyEmail()"]');
              btn.textContent = '‚úì Copied!';
              setTimeout(() => btn.textContent = 'üìã Copy Address', 2000);
            })
            .catch(() => showError('Failed to copy email'));
        }


async function manualRefresh() {
  const btn = document.querySelector('[onclick="manualRefresh()"]');
  try {
    btn.disabled = true;
    btn.innerHTML = '‚è≥ Refreshing...';
    await fetchEmails();
  } catch (error) {
    showError("Refresh failed: " + error.message);
  } finally {
    btn.disabled = false;
    btn.innerHTML = 'üîÑ Refresh';
  }
}


      </script>
      
      
      
</body>
</html>